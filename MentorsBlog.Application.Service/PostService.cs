using MentorsBlog.Application.Service.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using MentorsBlog.Application.Domain.Interfaces;
using MentorsBlog.Application.Service.Interfaces;
using MentorsBlog.Application.Service.Mappers;

namespace MentorsBlog.Application.Service
{
    public class PostService : IPostService
    {
        private readonly IPostDomain _postDomain;
        
        // private static readonly List<Post> _repository = Init();
        //
        // public static List<Post> Init()
        // {
        // return new List<Post>
        // {
        //     new Post
        //     {
        //         Id = new Guid("26f12148-c58e-4fbe-9f11-037e68fa3121"),
        //         Title = "Осень в парках и на Яндекс.Картах",
        //         Preview = @"<p>На&nbsp;Яндекс.Картах появились панорамы московских парков, бульваров и&nbsp;других популярных мест для прогулок. Снимки делали с&nbsp;конца сентября по&nbsp;начало октября, в&nbsp;разгар золотой осени. Панорамы охватывают больше ста километров дорог, дорожек и&nbsp;тропинок. Поскольку в&nbsp;прогулочных зонах нельзя передвигаться на&nbsp;машине, для съёмок использовали специальный велосипед.</p>",
        //         Body = @"<p>На&nbsp;Яндекс.Картах появились новые панорамы Москвы. На&nbsp;них&nbsp;&mdash; популярные у&nbsp;жителей столицы места для прогулок. Съёмочная группа побывала в&nbsp;музеях-заповедниках &laquo;<a href=""https://yandex.ru/maps/-/CCQ~7MW0WA"" target=""_blank"" rel=""noopener noreferrer"">Коломенское</a>&raquo; и&nbsp;&laquo;<a href=""https://yandex.ru/maps/-/CCQ~7McbSB"" target=""_blank"" rel=""noopener noreferrer"">Царицыно</a>&raquo;, обошла <a href=""https://yandex.ru/maps/-/CCQ~7MgKgB"" target=""_blank"" rel=""noopener noreferrer"">Бульварное кольцо</a>, побродила по&nbsp;закоулкам <a href=""https://yandex.ru/maps/-/CCQ~7MH4KB"" target=""_blank"" rel=""noopener noreferrer"">ВДНХ</a> и&nbsp;навестила сразу несколько городских парков&nbsp;&mdash; от&nbsp;<a href=""https://yandex.ru/maps/-/CCQ~7MTq~A"" target=""_blank"" rel=""noopener noreferrer"">парка Горького</a> и&nbsp;<a href=""https://yandex.ru/maps/-/CCQ~7QgbsC"" target=""_blank"" rel=""noopener noreferrer"">Поклонной горы</a> до&nbsp;совсем небольшого <a href=""https://yandex.ru/maps/-/CCQ~7QwqkC"" target=""_blank"" rel=""noopener noreferrer"">Академического</a>.</p><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7MSUHC"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/61002/file_1604233764303/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Гоголевский бульвар</figcaption></figure><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7QDW0C"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/38241/file_1604236071005/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Воронцовский парк</figcaption></figure><p>Панорамы снимали в&nbsp;разгар золотой осени, с&nbsp;конца сентября по&nbsp;начало октября 2020&nbsp;года. В&nbsp;это время в&nbsp;Москве стояла тёплая и&nbsp;солнечная погода, поэтому желтеющая листва на&nbsp;бульварах и&nbsp;в&nbsp;парках выглядела особенно живописно.</p><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7QTS-D"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/41243/file_1604236173538/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Памятник Н.&nbsp;В.&nbsp;Гоголю на&nbsp;Никитском бульваре</figcaption></figure><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7Qtd~B"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/41243/file_1604236261123/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Набережная Москвы-реки у&nbsp;Воробьёвых гор</figcaption></figure><p>В&nbsp;новой съёмке около семи тысяч фотографий. Они охватывают 103 километра дорог, дорожек и&nbsp;тропинок. Некоторые места отсняли впервые&nbsp;&mdash; например, раньше на&nbsp;Картах не&nbsp;было панорам <a href=""https://yandex.ru/maps/-/CCQ~7TaUPB"" target=""_blank"" rel=""noopener noreferrer"">Музейного парка</a>&nbsp;у&nbsp;Политехнического музея, амфитеатра &laquo;<a href=""https://yandex.ru/maps/-/CCQ~7TekxC"" target=""_blank"" rel=""noopener noreferrer"">Яма</a>&raquo; на&nbsp;Хохловке или <a href=""https://yandex.ru/maps/-/CCQ~7XXiOC"" target=""_blank"" rel=""noopener noreferrer"">пешеходных дорожек</a> на&nbsp;Бульварном кольце.</p><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7TgbxD"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/51778/file_1604298299741/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Парк &laquo;Акведук&raquo; в&nbsp;Ростокино</figcaption></figure><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7TcW0A"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/51778/file_1604298395735/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Общественное пространство&nbsp;&laquo;Яма&raquo; на&nbsp;Хохловской площади</figcaption></figure><p>Новые панорамы подскажут, чем заняться в&nbsp;разных местах города, и&nbsp;помогут спланировать прогулку. Скажем, если вы&nbsp;собираетесь устроить в&nbsp;парке фотосессию, с&nbsp;их&nbsp;помощью можно заранее подобрать подходящие локации, а&nbsp;если идёте на&nbsp;прогулку с&nbsp;ребёнком&nbsp;&mdash; подыскать интересные детские площадки.</p><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7TH43A"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/61002/file_1604298586311/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Экотропа на&nbsp;ВДНХ</figcaption></figure><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7TTpDC"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/61002/file_1604298681880/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Дворцовая поляна в&nbsp;Царицыне</figcaption></figure><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7ThJCB"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/47421/file_1604298750999/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>Георгиевская церковь в&nbsp;Коломенском</figcaption></figure><p><strong>Как снимают панорамы парков</strong></p><p>В&nbsp;парках нельзя передвигаться на&nbsp;автомобиле. Ходить пешком операторам тоже не&nbsp;с&nbsp;руки&nbsp;&mdash; слишком большие расстояния. Поэтому компания Neq4, которая готовит панорамы для Яндекса, использует для съёмок велосипед.</p><div class=""yablogs-notice-wrapper""><div class=""yablogs-notice""><div class=""yablogs-notice__text""><figure><img src=""https://avatars.mds.yandex.net/get-yablogs/47421/file_1604298922010/orig"" alt /><figcaption>Велосипед для съёмки панорам</figcaption></figure><p></p></div></div><div class=""yablogs-notice-wrapper__content""><p>Велосипед&nbsp;изготовлен по&nbsp;индивидуальному заказу. Для устойчивости у&nbsp;него три колеса, как у&nbsp;детских моделей, причём два находятся спереди, а&nbsp;одно сзади.</p><p>К&nbsp;велосипеду прикреплён штатив, на&nbsp;котором установлена &laquo;голова&raquo;&nbsp;&mdash; так называют устройство для фотосъёмки с&nbsp;четырьмя камерами, которые смотрят в&nbsp;разные стороны. Точно такое&nbsp;же можно увидеть на&nbsp;крыше панорамомобилей.</p><p>Во&nbsp;время поездки оператор сверяется с&nbsp;планшетом. На&nbsp;нём отображается план фотосъёмки и&nbsp;картинка с&nbsp;каждой из&nbsp;четырёх камер&nbsp;&mdash; они делают снимки каждые пятнадцать метров.</p><p>Зелёное &laquo;ведро&raquo; на&nbsp;багажнике велосипеда&nbsp;&mdash; на&nbsp;самом деле чехол, в&nbsp;который можно спрятать&nbsp;&laquo;голову&raquo; в&nbsp;случае дождя. В&nbsp;него&nbsp;же она убирается во&nbsp;время транспортировки. Перед выездом операторы всегда сверяются с&nbsp;прогнозом погоды. Для съёмок подходят как ясные, так и&nbsp;пасмурные дни&nbsp;&mdash; главное, чтобы не&nbsp;было дождя или снега. В&nbsp;непогоду панорамы не&nbsp;снимают, потому что снимки получаются нечёткими.</p></div></div><figure><p><a href=""https://yandex.ru/maps/-/CCQ~7XqUGA"" target=""_blank"" rel=""noopener noreferrer""><img src=""https://avatars.mds.yandex.net/get-yablogs/49865/file_1604299000693/orig"" width=""800"" height=""450"" alt /></a></p><figcaption>У&nbsp;павильона &laquo;Электрификация&raquo; на&nbsp;ВДНХ. В&nbsp;отражении можно увидеть оператора</figcaption></figure><p>Парки и&nbsp;бульвары Москвы&nbsp;&mdash;&nbsp; не&nbsp;первая съёмка панорам с&nbsp;велосипеда. Так фотографировали пешеходные зоны Питера,&nbsp;стадионы в&nbsp;Минске и&nbsp;улицы Стамбула.</p>",
        //         PublishDate = DateTime.Parse("2020-11-02T10:00:00.0000000+03:00")
        //     },
        //     new Post
        //     {
        //         Id = new Guid("69a787b4-404c-4426-957b-42b09168e5ff"),
        //         Title = "Алиса для детей",
        //         Preview = @"<p>Алиса научилась определять, кто обращается к&nbsp;умной колонке: ребёнок или взрослый. Если запрос поступил от&nbsp;ребёнка, Алиса учитывает это при составлении ответа. К&nbsp;примеру, когда малыш просит включить музыку, она ставит ему песенки из&nbsp;мультфильмов, а&nbsp;когда задаёт вопрос&nbsp;&mdash; подбирает простой и&nbsp;понятный ответ. Запросы, заданные детьми, не&nbsp;влияют на&nbsp;музыкальные рекомендации для взрослых.</p>",
        //         Body = @"<p>Умные колонки с&nbsp;Алисой&nbsp;&mdash; устройства для всей семьи. Ими пользуются как родители, так и&nbsp;дети, но&nbsp;их&nbsp;просьбы, адресованные Алисе, обычно отличаются. Взрослые интересуются новостями и&nbsp;пробками, уточняют факты, спрашивают про биржевые котировки. Дети просят Алису спеть песенку, рассказать сказку или поставить мультфильм. Но&nbsp;даже если взрослый и&nbsp;ребёнок задают один и&nbsp;тот&nbsp;же вопрос&nbsp;&mdash; скажем, &laquo;Что такое хлорофилл?&raquo;,&nbsp;&mdash; ответ на&nbsp;него может быть разным.&nbsp;</p><p>Теперь Алиса умеет определять, кто к&nbsp;ней обращается, взрослый или ребёнок,&nbsp;&mdash; и&nbsp;учитывает это при составлении ответа. К&nbsp;примеру, если включить музыку попросит взрослый владелец колонки, Алиса запустит его персональное радио&nbsp;&mdash; с&nbsp;тяжёлым роком, хип-хопом, драм-н-бэйсом или другой музыкой по&nbsp;вкусу. Если с&nbsp;той&nbsp;же просьбой к&nbsp;Алисе обратится маленький ребёнок, она поставит ему детские песенки.</p><div class=""yablogs-marked-text""><p style=""text-align: left""><strong><span style=""font-size:16px"">Как это работает</span></strong></p><p style=""text-align: left""><span style=""font-size:16px"">У&nbsp;каждого человека свой голос, но&nbsp;есть общие черты, по&nbsp;которым можно отличить женские голоса от&nbsp;мужских или взрослые от&nbsp;детских. Именно на&nbsp;эти черты обращает внимание Алиса. Иными словами, она улавливает разницу между взрослыми и&nbsp;детьми, но&nbsp;не&nbsp;отличает голос одного ребёнка от&nbsp;голоса другого ребёнка. Детскими Алиса считает голоса, принадлежащие людям в&nbsp;возрасте до&nbsp;10&ndash;12 лет.</span></p></div><p>Алиса подстраивается под детей не&nbsp;только в&nbsp;отношении музыки. Ребёнок слышит, как с&nbsp;колонкой взаимодействуют взрослые, и&nbsp;порой повторяет их&nbsp;просьбы. Если малыш попросит поставить ему подкаст, она выберет что-нибудь для младшего возраста: рассказы о&nbsp;разных странах из&nbsp;&laquo;<a href=""https://music.yandex.ru/album/7782341"" target=""_blank"" rel=""noopener noreferrer"">Урубамбы</a>&raquo; или познавательные истории из&nbsp;аудиоэнциклопедии &laquo;<a href=""https://music.yandex.ru/artist/5097013"" target=""_blank"" rel=""noopener noreferrer"">Чевостик</a>&raquo;. Если ребёнок захочет послушать новости, Алиса включит детский выпуск с&nbsp;&laquo;Радио Disney&raquo;.</p><p>Отвечая на&nbsp;вопросы детей, Алиса стремится подобрать понятные им&nbsp;объяснения. Для этого она обращается к&nbsp;сервису Яндекс.Кью. На&nbsp;Кью есть раздел &laquo;Детский вопрос&raquo;: в&nbsp;нём взрослые, хорошо разбирающиеся в&nbsp;той или иной теме, дают ответы на&nbsp;популярные вопросы детей&nbsp;&mdash;&nbsp; так, чтобы было понятно даже дошкольникам.&nbsp;</p><p>Когда Алиса понимает, что к&nbsp;ней обращается ребёнок, она автоматически включает семейный режим. В&nbsp;этом режиме блокируется взрослый контент&nbsp;&mdash; например, нецензурная лексика. В&nbsp;дополнение к&nbsp;семейному мы&nbsp;внедрили ещё один, более строгий, режим&nbsp;&mdash; безопасный. В&nbsp;этом режиме Алиса воспроизводит только тот контент, который создавался для детей: аудиосказки, детские песенки и&nbsp;так далее. Режим можно выбрать в&nbsp;настройках приложения Яндекс, в&nbsp;разделе &laquo;Аккаунт&raquo;.</p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/49865/file_1600384255023/orig"" width=""800"" height=""680"" alt /></p><p>Запросы, заданные детьми, не&nbsp;влияют на&nbsp;рекомендации для взрослых. Алиса не&nbsp;включит вам по&nbsp;дороге на&nbsp;работу сказку про Машу и&nbsp;медведя, даже если ребёнок накануне слушал её&nbsp;весь день. Только если специально попросите.</p>",
        //         PublishDate = DateTime.Parse("2020-09-18T11:00:00.0000000+03:00")
        //     },
        //     new Post
        //     {
        //         Id = new Guid("16e85ad0-0486-4353-91b8-5427dcfa9456"),
        //         Title = "Уличное искусство на Яндекс.Картах",
        //         Preview = @"<p>Яндекс.Карты разработали экскурсионный маршрут, который знакомит с&nbsp;уличным искусством Екатеринбурга. Протяжённость маршрута&nbsp;&mdash; девять километров; он&nbsp;охватывает 29 арт-объектов, созданных участниками ежегодного фестиваля &laquo;Стенограффия&raquo;. Чтобы осмотреть работы, нужно воспользоваться Картами или просто следовать за&nbsp;фиолетовой пунктирной линией на&nbsp;асфальте.</p>",
        //         Body = @"<p>Каждое лето в&nbsp;Екатеринбурге проходит фестиваль уличного искусства &laquo;<a href=""https://stenograffia.ru/"" target=""_blank"" rel=""noopener noreferrer"">Стенограффия</a>&raquo;. На&nbsp;него съезжаются художники из&nbsp;разных стран&nbsp;&mdash; они работают прямо на&nbsp;улицах, превращая стены домов, трансформаторные будки, распределительные щиты и&nbsp;другие элементы городской среды в&nbsp;арт-объекты.</p><p>Фестиваль заканчивается, а&nbsp;работы остаются. За&nbsp;одиннадцать лет&nbsp;&mdash; столько проводится &laquo;Стенограффия&raquo;&nbsp;&mdash; в&nbsp;Екатеринбурге появилось около двухсот арт-объектов, которые стали новыми достопримечательностями города.</p><figure><img src=""https://avatars.mds.yandex.net/get-yablogs/38241/file_1599830187600/orig"" width=""900"" height=""643"" alt /><figcaption>Граффити &laquo;<a href=""https://yandex.ru/web-maps/org/strely/36523539357/?ll=60.612756%2C56.840184&amp;z=17"" target=""_blank"" rel=""noopener noreferrer"">Стрелы</a>&raquo;, авторы Никита Nomerz и&nbsp;Стас Bags</figcaption></figure><p>Не&nbsp;все произведения, оставленные участниками &laquo;Стенограффии&raquo;, можно найти без подсказок. Художники рисуют на&nbsp;глухих торцах пятиэтажек, в&nbsp;подземных переходах, на&nbsp;опорах мостов и&nbsp;в&nbsp;других местах, известных только местным жителям. Чтобы у&nbsp;поклонников уличного искусства из&nbsp;других городов и&nbsp;стран была возможность познакомиться с&nbsp;наследием &laquo;Стенограффии&raquo;, Яндекс.Карты разработали специальный экскурсионный маршрут. Он&nbsp;охватывает арт-объекты, расположенные в&nbsp;центре Екатеринбурга&nbsp;&mdash; на&nbsp;проспекте Ленина и&nbsp;в&nbsp;его окрестностях.</p><figure><img src=""https://avatars.mds.yandex.net/get-yablogs/61002/file_1599830282868/orig"" width=""900"" height=""764"" alt /><figcaption>Подборка &laquo;<a href=""https://yandex.ru/web-maps/discovery/stenograffia"" target=""_blank"" rel=""noopener noreferrer"">Где смотреть современное уличное искусство</a>&raquo; на&nbsp;Яндекс.Картах</figcaption></figure><p>Если вы&nbsp;находитесь в&nbsp;другом городе, <a href=""https://yandex.ru/web-maps/discovery/stenograffia"" target=""_blank"" rel=""noopener noreferrer"">подборку</a> с&nbsp;арт-объектами можно посмотреть на&nbsp;Яндекс.Картах. Из&nbsp;неё можно узнать, где находится то&nbsp;или иное произведение, кто его автор и&nbsp;в&nbsp;чём его особенности. А&nbsp;для тех, кто хочет изучить работы вживую, Яндекс.Карты и&nbsp;команда &laquo;Стенограффии&raquo; разметили маршрут на&nbsp;местности. Приезжайте в&nbsp;Екатеринбург, ищите на&nbsp;асфальте пунктирную линию фиолетового цвета и&nbsp;следуйте по&nbsp;ней. Вы&nbsp;последовательно увидите все 29 арт-объектов &laquo;Стенограффии&raquo;, которые вошли в&nbsp;подборку Яндекс.Карт. Рядом с&nbsp;каждой работой есть QR-код: наведите на&nbsp;него камеру смартфона, чтобы узнать подробности.</p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/28577/file_1599830534026/orig"" width=""900"" height=""600"" alt /></p><p>Фиолетовая линия нарисована горячим пластиком, так что её&nbsp;не&nbsp;смоют дожди и&nbsp;не&nbsp;сотрут подошвы прохожих. Протяжённость маршрута&nbsp;&mdash; около девяти километров. Экскурсия по&nbsp;арт-объектам займёт два-три часа, если двигаться неспешным шагом. Приступить к&nbsp;осмотру можно в&nbsp;любой точке маршрута.</p><p><iframe width=""900"" height=""506"" src=""https://www.youtube.com/embed/rdNQ-O5VGGo"" frameborder=""0"" allow=""accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"" allowfullscreen></iframe></p><p>В&nbsp;числе арт-объектов, которые вы&nbsp;увидите на&nbsp;маршруте,&nbsp;&mdash; <a href=""https://yandex.ru/maps/-/CCQx5StWHA"" target=""_blank"" rel=""noopener noreferrer"">портрет Юрия Гагарина</a> кисти харьковского художника Андрея Пальваля, <a href=""https://yandex.ru/maps/-/CCQx5SxaPD"" target=""_blank"" rel=""noopener noreferrer"">работа</a> Покраса Лампаса в&nbsp;арке у&nbsp;кинотеатра &laquo;Салют&raquo; и&nbsp;гигантский&nbsp;&mdash; площадью более 500 квадратных метров&nbsp;&mdash; мурал &laquo;<a href=""https://yandex.ru/maps/-/CCQx5Sxj8A"" target=""_blank"" rel=""noopener noreferrer"">Бумажный самолётик</a>&raquo;, созданный немецкими мастерами Wow123 и&nbsp;Case.</p><p>Традиция размечать разными цветами пешеходные маршруты для туристов существует в&nbsp;Екатеринбурге уже давно. Помимо фиолетовой, в&nbsp;городе есть синяя, красная и&nbsp;жёлтая линии. Синяя линия проходит по&nbsp;местам, связанным с&nbsp;судьбой царской семьи. Красная (для пешеходов) и&nbsp;жёлтая (для велосипедистов, скейтеров и&nbsp;роллеров) линии рассказывают гостям Екатеринбурга об&nbsp;истории города.</p>",
        //         PublishDate = DateTime.Parse("2020-09-11T16:35:00.0000000+03:00")
        //     },
        //     new Post
        //     {
        //         Id = new Guid("57f60a57-c93c-45d0-b57f-b4a3f5c947c0"),
        //         Title = "Осень. Яндекс. Стажировка",
        //         Preview = @"<p>Приглашаем начинающих фронтендеров, бэкендеров, мобильных разработчиков, аналитиков и&nbsp;специалистов по&nbsp;машинному обучению.</p>",
        //         Body = @"<p>Мы&nbsp;снова ищем стажёров. Если вам интересно узнать, как устроен Яндекс, научиться новому и&nbsp;внести вклад в&nbsp;продукты, которыми люди пользуются на&nbsp;каждом шагу, приходите к&nbsp;нам. В&nbsp;Яндексе ждут начинающих фронтендеров, бэкендеров, мобильных разработчиков, аналитиков и&nbsp;специалистов по&nbsp;машинному обучению.</p><p>У&nbsp;нас есть два вида стажировок. Летняя стажировка предусматривает полную занятость. Стажировка, на&nbsp;которую <a href=""https://yandex.ru/yaintern/"" target=""_blank"" rel=""noopener noreferrer"">идёт набор</a> сейчас, подразумевает более гибкий график&nbsp;&mdash; работать можно от&nbsp;двадцати часов в&nbsp;неделю. Её&nbsp;удобно совмещать с&nbsp;учёбой в&nbsp;институте. Например, можно приезжать в&nbsp;Яндекс во&nbsp;второй половине дня, после пар, или работать в&nbsp;дни, свободные от&nbsp;занятий. Продолжительность стажировки зависит от&nbsp;графика. Обычно она длится от&nbsp;трёх до&nbsp;шести месяцев.</p><figure><img src=""https://avatars.mds.yandex.net/get-yablogs/61002/file_1599639402841/orig"" width=""900"" height=""600"" alt /><figcaption>Мы&nbsp;выдаём стажёрам ноутбуки и&nbsp;всё, что необходимо для работы. Рабочее место можно обустроить, как нравится</figcaption></figure><p></p><p>Сейчас вакансии для стажёров открыты в&nbsp;офисах Яндекса в&nbsp;Москве, Санкт-Петербурге, Екатеринбурге и&nbsp;Новосибирске. На&nbsp;стажировке вы&nbsp;будете делать то&nbsp;же, что и&nbsp;штатные сотрудники Яндекса: улучшать существующие сервисы и&nbsp;создавать новые. Кроме руководителя, у&nbsp;каждого стажёра есть ментор&nbsp;&mdash; специальный человек, которому можно задавать вопросы. Чтобы стать ментором, нужно не&nbsp;только досконально разбираться в&nbsp;своей области, но&nbsp;и&nbsp;уметь понятно объяснять.</p><div class=""yablogs-marked-text""><p style=""text-align: left""><span style=""font-size:17px""><strong>В&nbsp;офисе или из&nbsp;дома?</strong></span></p><p style=""text-align: left""><span style=""font-size:17px"">Этим летом сотрудники Яндекса работали из&nbsp;дома. Сейчас мы&nbsp;возвращаемся в&nbsp;офисы, но&nbsp;наверняка знать, что будет дальше, нельзя. Формат работы&nbsp;&mdash; очно или дистанционно&nbsp;&mdash; будет зависеть от&nbsp;эпидемиологической обстановки. Все летние стажёры 2020 года работали удалённо, а&nbsp;мы, в&nbsp;свою очередь, прикладывали все усилия, чтобы ребята продолжали чувствовать себя частью Яндекса. Например, мы&nbsp;перенесли традиционные стажёрские мероприятия в&nbsp;онлайн. Не&nbsp;выходя из&nbsp;дома, стажёры могли встретиться с&nbsp;экспертами, пообщаться друг с&nbsp;другом и&nbsp;даже поучаствовать в&nbsp;квесте ко&nbsp;Дню летнего стажёра&nbsp;&mdash; про это есть <a href=""https://vk.com/yandex.academy?w=wall-84793390_10797"" target=""_blank"" rel=""noopener noreferrer"">отдельная история</a>.</span></p></div><p>Набор навыков, которых мы&nbsp;ждём от&nbsp;будущих стажёров, зависит от&nbsp;специальности. Скажем, разработчику надо очень хорошо владеть хотя&nbsp;бы одним языком программирования, а&nbsp;аналитику&nbsp;&mdash; знать математическую статистику и&nbsp;Python. Распределяя стажёров по&nbsp;командам, мы&nbsp;стараемся учитывать личные интересы. Меломан, возможно, захочет попробовать себя в&nbsp;Яндекс.Музыке, а&nbsp;тот, кто видит будущее за&nbsp;голосовыми интерфейсами, найдёт себя в&nbsp;команде Алисы.</p><p>Все стажировки в&nbsp;Яндексе оплачиваются. Тем, кто хочет стать стажёром, нужно <a href=""https://yandex.ru/yaintern/"" target=""_blank"" rel=""noopener noreferrer"">заполнить анкету</a> и&nbsp;выполнить тестовое задание. Если вы&nbsp;хорошо с&nbsp;ним справитесь, мы&nbsp;пригласим вас на&nbsp;собеседование&nbsp;&mdash; обычно это две-три встречи с&nbsp;экспертами. Перед началом стажировки к&nbsp;будущим стажёрам приходят представители разных команд Яндекса. Их&nbsp;можно расспросить и&nbsp;выбрать то, что больше всего интересно.</p>",
        //         PublishDate = DateTime.Parse("2020-09-09T13:00:00.0000000+03:00")
        //     },
        //     new Post
        //     {
        //         Id = new Guid("4029b0f3-fa95-4eeb-843b-85bd572fa0e0"),
        //         Title = "Магазин и музей в Санкт-Петербурге",
        //         Preview = @"<p>В&nbsp;Магазине и&nbsp;музее можно приобрести полезные вещи, разработанные дизайнерами Яндекса, и&nbsp;посидеть за&nbsp;старыми компьютерами и&nbsp;приставками.</p>",
        //         Body = @"<p>Мы&nbsp;открыли второй Магазин и&nbsp;музей Яндекса&nbsp;&mdash; в&nbsp;Санкт-Петербурге. Он&nbsp;находится прямо на&nbsp;Невском, в&nbsp;<a href=""https://yandex.ru/maps/-/CCQxiMcZ8D"" target=""_blank"" rel=""noopener noreferrer"">доме 68A</a>, рядом с&nbsp;Аничковым мостом. В&nbsp;Магазине и&nbsp;музее можно приобрести полезные вещи, разработанные дизайнерами Яндекса, опробовать в&nbsp;деле наши умные устройства,&nbsp;от&nbsp;Яндекс.Станции до&nbsp;лампочек и&nbsp;пультов,&nbsp;и&nbsp;посидеть за&nbsp;старыми компьютерами и&nbsp;приставками.</p><div class=""yablogs-marked-text""><p style=""text-align: left""><span style=""font-size:16px""><strong>Дом 68 по&nbsp;Невскому проспекту</strong></span></p><p style=""text-align: left""><span style=""font-size:16px"">Здание, в&nbsp;котором находится Магазин и&nbsp;музей, начали строить во&nbsp;второй половине XVIII века. К&nbsp;сороковым годам следующего столетия оно стало одним из&nbsp;самых больших доходных домов в&nbsp;городе. Здесь жили или часто бывали Белинский, Гончаров, Некрасов, Тютчев, Тургенев и&nbsp;другие видные литераторы. Из-за&nbsp;этого за&nbsp;зданием закрепилось название Литературный&nbsp;дом. Ещё его называют домом Ф.&nbsp;И.&nbsp;Лопатина&nbsp;&mdash; по&nbsp;фамилии владельца. Во&nbsp;время блокады дом серьёзно пострадал от&nbsp;бомбёжек, и&nbsp;после войны здание под литерой А&nbsp;реконструировали. В&nbsp;2010-х годах дом был признан аварийным. Его разобрали и&nbsp;отстроили заново, придав выходящему на&nbsp;Невский фасаду тот&nbsp;же вид, какой он&nbsp;имел в&nbsp;1950-х.</span></p></div><p>Если московский Магазин и&nbsp;музей спроектирован в&nbsp;стиле офисов Яндекса, то&nbsp;в&nbsp;питерском мы&nbsp;решили сохранить местный колорит. Здесь есть печь-голландка, как в&nbsp;дореволюционных домах в&nbsp;центре и&nbsp;на&nbsp;Петроградке. Вешалки прикрыты высокими белыми дверями&nbsp;&mdash; похожие можно встретить в&nbsp;старых коммуналках. Стены и&nbsp;потолок выкрашены в&nbsp;глубокий синий цвет, напоминающий о&nbsp;водах Невы.</p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/47421/file_1599478054557/orig"" alt /></p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/49865/file_1599478102382/orig"" alt /></p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/51778/file_1599478257515/orig"" alt /></p><p>Помещение разделено на&nbsp;зоны. В&nbsp;одной продаются фирменные футболки, толстовки, рюкзаки, зонты и&nbsp;разные приятные мелочи вроде термобутылок, кружек-непроливаек, брелоков и&nbsp;значков. Мы&nbsp;выпускаем вещи коллекциями. Например, коллекция &laquo;Одиссея&raquo;&nbsp;&mdash; про космос и&nbsp;исследования, а&nbsp;на&nbsp;вещах из&nbsp;коллекции &laquo;Паттерн&raquo;&nbsp;&mdash; слово &laquo;Яндекс&raquo;, написанное почерками сотрудников.</p><figure><img src=""https://avatars.mds.yandex.net/get-yablogs/39006/file_1599478270812/orig"" alt /><figcaption>Блокнот &laquo;Паттерн&raquo;, 48 листов, А5</figcaption></figure><p>В&nbsp;демонстрационной зоне выставлены устройства, созданные в&nbsp;Яндексе. Здесь можно поболтать с&nbsp;Алисой, оценить, как звучит Яндекс.Станция, протестировать управление жестами в&nbsp;Яндекс.Станции Мини и&nbsp;опробовать наши умные лампочки, розетки и&nbsp;пульты. Кстати, всё это тоже продаётся в&nbsp;магазине.</p><p>В&nbsp;музейной зоне собрана вычислительная техника разных эпох. В&nbsp;числе экспонатов&nbsp;&mdash; арифмометр &laquo;Феликс&raquo;, первый iMac и&nbsp;первая PlayStation, Commodore 64&nbsp;&mdash; самый продаваемый в&nbsp;мире компьютер, ZX&nbsp;Spectrum и&nbsp;другие легенды. Все они работают: на&nbsp;них можно не&nbsp;только смотреть, их&nbsp;можно использовать. Хотите&nbsp;&mdash; запускайте Duck Hunt на&nbsp;Dendy и&nbsp;стреляйте по&nbsp;уткам из&nbsp;светового пистолета, хотите&nbsp;&mdash; проверяйте, действительно&nbsp;ли удобно управляться с&nbsp;мышью-&laquo;шайбой&raquo; от&nbsp;iMac G3.</p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/51778/file_1599478323479/orig"" alt /></p><p><img src=""https://avatars.mds.yandex.net/get-yablogs/51778/file_1599478428205/orig"" alt /></p><p>Магазин и&nbsp;музей в&nbsp;Санкт-Петербурге открыт каждый день с&nbsp;10 до&nbsp;22 часов, вход бесплатный. Подробный рассказ о&nbsp;каждом из&nbsp;экспонатов есть <a href=""https://yandex.ru/museum/spb"">на&nbsp;сайте</a>.</p>",
        //         PublishDate = DateTime.Parse("2020-09-07T14:40:00.0000000+03:00")
        //     }
        // };
        // }
        //
        
        public PostService(IPostDomain postDomain)
        {
            _postDomain = postDomain;
        }
        
        public Post Create(Post post)
        {
            if (post == null)
            {
                return null;
            }
            post.PublishDate = DateTime.Now;
            var dbPost = _postDomain.Create(post.ToDbPost());
            return dbPost.ToPost();
        }

        public Post Get(Guid id)
        {
            return _postDomain.Get(id)
                .ToPost();
        }
        
        public IEnumerable<Post> Get(int page, int count)
        {
            return _postDomain.Get(false)
                .Skip((page - 1) * count)
                .Take(count)
                .AsEnumerable()
                .ToPost();
        }

        public IEnumerable<Post> Search(string searchData)
        {
            return _postDomain.Get(false)
                .Where(x => x.Title.Contains(searchData) || x.Body.Contains(searchData) || x.Preview.Contains(searchData))
                .AsEnumerable()
                .ToPost();
        }

        public Post Update(Post post)
        {
            if (post == null)
            {
                return null;
            }

            var dbPostCurrent = _postDomain.Get(post.Id);

            dbPostCurrent.Title = post?.Title;
            dbPostCurrent.Preview = post?.Preview;
            dbPostCurrent.Body = post?.Body;
            dbPostCurrent.Image = post?.Image;

            var dbPost = _postDomain.Update(dbPostCurrent);
            return dbPost.ToPost();
        }

        public bool Delete(Guid id)
        {
            return _postDomain.Delete(id);
        }
    }
}
